/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
define(["dijit","dojo","dojox","dojo/require!esri/toolbars/_toolbar,esri/geometry,esri/symbol,esri/utils"],function(_1,_2,_3){_2.provide("esri.toolbars.draw");_2.require("esri.toolbars._toolbar");_2.require("esri.geometry");_2.require("esri.symbol");_2.require("esri.utils");_2.declare("esri.toolbars.Draw",esri.toolbars._Toolbar,{constructor:function(_4,_5){this.markerSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_SOLID,10,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new _2.Color([255,0,0]),2),new _2.Color([0,0,0,0.25]));this.lineSymbol=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new _2.Color([255,0,0]),2);this.fillSymbol=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new _2.Color([255,0,0]),2),new _2.Color([0,0,0,0.25]));this._points=[];this._defaultOptions={showTooltips:true,drawTime:75,tolerance:8,tooltipOffset:15};this._options=_2.mixin(_2.mixin({},this._defaultOptions),_5||{});if(esri.isTouchEnabled){this._options.showTooltips=false;}this._onKeyDownHandler=_2.hitch(this,this._onKeyDownHandler);this._onMouseDownHandler=_2.hitch(this,this._onMouseDownHandler);this._onMouseUpHandler=_2.hitch(this,this._onMouseUpHandler);this._onClickHandler=_2.hitch(this,this._onClickHandler);this._onMouseMoveHandler=_2.hitch(this,this._onMouseMoveHandler);this._onMouseDragHandler=_2.hitch(this,this._onMouseDragHandler);this._onDblClickHandler=_2.hitch(this,this._onDblClickHandler);this._updateTooltip=_2.hitch(this,this._updateTooltip);this._hideTooltip=_2.hitch(this,this._hideTooltip);this._redrawGraphic=_2.hitch(this,this._redrawGraphic);},_geometryType:null,respectDrawingVertexOrder:false,setRespectDrawingVertexOrder:function(_6){this.respectDrawingVertexOrder=_6;},setMarkerSymbol:function(_7){this.markerSymbol=_7;},setLineSymbol:function(_8){this.lineSymbol=_8;},setFillSymbol:function(_9){this.fillSymbol=_9;},activate:function(_a,_b){if(this._geometryType){this.deactivate();}var _c=this.map,dc=_2.connect,_d=esri.toolbars.Draw;this._options=_2.mixin(_2.mixin({},this._options),_b||{});_c.__resetClickDuration();switch(_a){case _d.POINT:case _d.ARROW:case _d.LEFT_ARROW:case _d.RIGHT_ARROW:case _d.UP_ARROW:case _d.DOWN_ARROW:case _d.TRIANGLE:case _d.CIRCLE:case _d.ELLIPSE:case _d.RECTANGLE:this._onClickHandler_connect=dc(_c,"onClick",this._onClickHandler);break;case _d.LINE:case _d.EXTENT:case _d.FREEHAND_POLYLINE:case _d.FREEHAND_POLYGON:this._deactivateMapTools(true,false,false,true);this._onMouseDownHandler_connect=dc(_c,esri.isTouchEnabled?"onTouchStart":"onMouseDown",this._onMouseDownHandler);this._onMouseDragHandler_connect=dc(_c,esri.isTouchEnabled?"onTouchMove":"onMouseDrag",this._onMouseDragHandler);this._onMouseUpHandler_connect=dc(_c,esri.isTouchEnabled?"onTouchEnd":"onMouseUp",this._onMouseUpHandler);break;case _d.POLYLINE:case _d.POLYGON:case _d.MULTI_POINT:_c.__setClickDuration(0);this._onClickHandler_connect=dc(_c,"onClick",this._onClickHandler);this._onDblClickHandler_connect=dc(_c,"onDblClick",this._onDblClickHandler);_c.disableDoubleClickZoom();break;default:console.error(esri.bundle.toolbars.draw.invalidType+": "+_a);return;}this._onKeyDown_connect=dc(_c,"onKeyDown",this._onKeyDownHandler);this._redrawConnect=dc(_c,"onExtentChange",this._redrawGraphic);this._geometryType=_a;this._toggleTooltip(true);if(_c.snappingManager&&this._geometryType!=="freehandpolyline"&&this._geometryType!=="freehandpolygon"&&!esri.isTouchEnabled){_c.snappingManager._startSelectionLayerQuery();_c.snappingManager._setUpSnapping();}this.onActivate(this._geometryType);},deactivate:function(){var _e=this.map;this._clear();var _f=_2.disconnect;_f(this._onMouseDownHandler_connect);_f(this._onMouseMoveHandler_connect);_f(this._onMouseDragHandler_connect);_f(this._onMouseUpHandler_connect);_f(this._onClickHandler_connect);_f(this._onDblClickHandler_connect);_f(this._onKeyDown_connect);_f(this._redrawConnect);if(_e.snappingManager){_e.snappingManager._stopSelectionLayerQuery();_e.snappingManager._killOffSnapping();}switch(this._geometryType){case esri.toolbars.Draw.LINE:case esri.toolbars.Draw.EXTENT:case esri.toolbars.Draw.FREEHAND_POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYGON:this._activateMapTools(true,false,false,true);break;case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.MULTI_POINT:_e.enableDoubleClickZoom();break;}var _10=this._geometryType;this._geometryType=null;_e.__resetClickDuration();this._toggleTooltip(false);this.onDeactivate(_10);},_clear:function(){if(this._graphic){this.map.graphics.remove(this._graphic,true);}if(this._tGraphic){this.map.graphics.remove(this._tGraphic,true);}this._graphic=this._tGraphic=null;if(this.map.snappingManager){this.map.snappingManager._setGraphic(null);}this._points=[];},finishDrawing:function(){var _11,_12=this._points,map=this.map,_13=map.spatialReference,_14=esri.toolbars.Draw;_12=_12.slice(0,_12.length);switch(this._geometryType){case _14.POLYLINE:if(!this._graphic||_12.length<2){return;}_11=new esri.geometry.Polyline(_13);_11.addPath([].concat(_12));break;case _14.POLYGON:if(!this._graphic||_12.length<3){return;}_11=new esri.geometry.Polygon(_13);var _15=[].concat(_12,[_12[0].offset(0,0)]);if(!esri.geometry.isClockwise(_15)&&!this.respectDrawingVertexOrder){console.debug(this.declaredClass+" : "+esri.bundle.toolbars.draw.convertAntiClockwisePolygon);_15.reverse();}_11.addRing(_15);break;case _14.MULTI_POINT:_11=new esri.geometry.Multipoint(_13);_2.forEach(_12,function(pt){_11.addPoint(pt);});break;}_2.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);if(_11){this.onDrawEnd(_11);}},_normalizeRect:function(_16,end,_17){var sx=_16.x,sy=_16.y,ex=end.x,ey=end.y,_18=Math.abs(sx-ex),_19=Math.abs(sy-ey);return {x:Math.min(sx,ex),y:Math.max(sy,ey),width:_18,height:_19,spatialReference:_17};},_onMouseDownHandler:function(evt){this._dragged=false;var _1a;if(this.map.snappingManager){_1a=this.map.snappingManager._snappingPoint;}var _1b=_1a||evt.mapPoint,_1c=esri.toolbars.Draw,map=this.map,_1d=map.spatialReference;this._points.push(_1b.offset(0,0));switch(this._geometryType){case _1c.LINE:this._graphic=map.graphics.add(new esri.Graphic(new esri.geometry.Polyline({paths:[[[_1b.x,_1b.y],[_1b.x,_1b.y]]]}),this.lineSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}break;case _1c.EXTENT:break;case _1c.FREEHAND_POLYLINE:this._oldPoint=evt.screenPoint;var _1e=new esri.geometry.Polyline(_1d);_1e.addPath(this._points);this._graphic=map.graphics.add(new esri.Graphic(_1e,this.lineSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}break;case _1c.FREEHAND_POLYGON:this._oldPoint=evt.screenPoint;var _1f=new esri.geometry.Polygon(_1d);_1f.addRing(this._points);this._graphic=map.graphics.add(new esri.Graphic(_1f,this.fillSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}break;}if(esri.isTouchEnabled){evt.preventDefault();}},_onMouseMoveHandler:function(evt){var _20;if(this.map.snappingManager){_20=this.map.snappingManager._snappingPoint;}var _21=this._points[this._points.length-1],end=_20||evt.mapPoint,_22=this._tGraphic,_23=_22.geometry;switch(this._geometryType){case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.POLYGON:_23.setPoint(0,0,{x:_21.x,y:_21.y});_23.setPoint(0,1,{x:end.x,y:end.y});_22.setGeometry(_23);break;}},_onMouseDragHandler:function(evt){if(esri.isTouchEnabled&&!this._points.length){evt.preventDefault();return;}this._dragged=true;var _24;if(this.map.snappingManager){_24=this.map.snappingManager._snappingPoint;}var _25=this._points[0],end=_24||evt.mapPoint,map=this.map,_26=map.spatialReference,_27=this._graphic,_28=esri.toolbars.Draw;switch(this._geometryType){case _28.LINE:_27.setGeometry(_2.mixin(_27.geometry,{paths:[[[_25.x,_25.y],[end.x,end.y]]]}));break;case _28.EXTENT:if(_27){map.graphics.remove(_27,true);}var _29=new esri.geometry.Rect(this._normalizeRect(_25,end,_26));_29._originOnly=true;this._graphic=map.graphics.add(new esri.Graphic(_29,this.fillSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}break;case _28.FREEHAND_POLYLINE:this._hideTooltip();if(this._canDrawFreehandPoint(evt)===false){if(esri.isTouchEnabled){evt.preventDefault();}return;}this._points.push(evt.mapPoint.offset(0,0));_27.geometry._insertPoints([end.offset(0,0)],0);_27.setGeometry(_27.geometry);break;case _28.FREEHAND_POLYGON:this._hideTooltip();if(this._canDrawFreehandPoint(evt)===false){if(esri.isTouchEnabled){evt.preventDefault();}return;}this._points.push(evt.mapPoint.offset(0,0));_27.geometry._insertPoints([end.offset(0,0)],0);_27.setGeometry(_27.geometry);break;}if(esri.isTouchEnabled){evt.preventDefault();}},_canDrawFreehandPoint:function(evt){if(!this._oldPoint){return false;}var dx=this._oldPoint.x-evt.screenPoint.x;dx=(dx<0)?dx*-1:dx;var dy=this._oldPoint.y-evt.screenPoint.y;dy=(dy<0)?dy*-1:dy;var _2a=this._options.tolerance;if(dx<_2a&&dy<_2a){return false;}var now=new Date();var _2b=now-this._startTime;if(_2b<this._options.drawTime){return false;}this._startTime=now;this._oldPoint=evt.screenPoint;return true;},_onMouseUpHandler:function(evt){if(!this._dragged){this._clear();return;}if(this._points.length===0){this._points.push(evt.mapPoint.offset(0,0));}var _2c;if(this.map.snappingManager){_2c=this.map.snappingManager._snappingPoint;}var _2d=this._points[0],end=_2c||evt.mapPoint,map=this.map,_2e=map.spatialReference,_2f=esri.toolbars.Draw,_30;switch(this._geometryType){case _2f.LINE:_30=new esri.geometry.Polyline({paths:[[[_2d.x,_2d.y],[end.x,end.y]]],spatialReference:_2e});break;case _2f.EXTENT:_30=esri.geometry._rectToExtent(new esri.geometry.Rect(this._normalizeRect(_2d,end,_2e)));break;case _2f.FREEHAND_POLYLINE:_30=new esri.geometry.Polyline(_2e);_30.addPath([].concat(this._points,[end.offset(0,0)]));break;case _2f.FREEHAND_POLYGON:_30=new esri.geometry.Polygon(_2e);var _31=[].concat(this._points,[end.offset(0,0),this._points[0].offset(0,0)]);if(!esri.geometry.isClockwise(_31)&&!this.respectDrawingVertexOrder){console.debug(this.declaredClass+" : "+esri.bundle.toolbars.draw.convertAntiClockwisePolygon);_31.reverse();}_30.addRing(_31);break;}if(esri.isTouchEnabled){evt.preventDefault();}this._clear();this.onDrawEnd(_30);},_onClickHandler:function(evt){var _32;if(this.map.snappingManager){_32=this.map.snappingManager._snappingPoint;}var _33=_32||evt.mapPoint,map=this.map,_34=map.toScreen(_33),_35=esri.toolbars.Draw,pts,dx,dy,_36,i,_37,_38;this._points.push(_33.offset(0,0));switch(this._geometryType){case _35.POINT:this.onDrawEnd(_33.offset(0,0));this._setTooltipMessage(0);break;case _35.POLYLINE:if(this._points.length===1){var _39=new esri.geometry.Polyline(map.spatialReference);_39.addPath(this._points);this._graphic=map.graphics.add(new esri.Graphic(_39,this.lineSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}this._onMouseMoveHandler_connect=_2.connect(map,"onMouseMove",this._onMouseMoveHandler);this._tGraphic=map.graphics.add(new esri.Graphic(new esri.geometry.Polyline({paths:[[[_33.x,_33.y],[_33.x,_33.y]]]}),this.lineSymbol),true);}else{this._graphic.geometry._insertPoints([_33.offset(0,0)],0);this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.lineSymbol);_37=this._tGraphic;_38=_37.geometry;_38.setPoint(0,0,_33.offset(0,0));_38.setPoint(0,1,_33.offset(0,0));_37.setGeometry(_38);}break;case _35.POLYGON:if(this._points.length===1){var _3a=new esri.geometry.Polygon(map.spatialReference);_3a.addRing(this._points);this._graphic=map.graphics.add(new esri.Graphic(_3a,this.fillSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}this._onMouseMoveHandler_connect=_2.connect(map,"onMouseMove",this._onMouseMoveHandler);this._tGraphic=map.graphics.add(new esri.Graphic(new esri.geometry.Polyline({paths:[[[_33.x,_33.y],[_33.x,_33.y]]]}),this.fillSymbol),true);}else{this._graphic.geometry._insertPoints([_33.offset(0,0)],0);this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.fillSymbol);_37=this._tGraphic;_38=_37.geometry;_38.setPoint(0,0,_33.offset(0,0));_38.setPoint(0,1,_33.offset(0,0));_37.setGeometry(_38);}break;case _35.MULTI_POINT:var tps=this._points;if(tps.length===1){var _3b=new esri.geometry.Multipoint(map.spatialReference);_3b.addPoint(tps[tps.length-1]);this._graphic=map.graphics.add(new esri.Graphic(_3b,this.markerSymbol),true);if(map.snappingManager){map.snappingManager._setGraphic(this._graphic);}}else{this._graphic.geometry.addPoint(tps[tps.length-1]);this._graphic.setGeometry(this._graphic.geometry).setSymbol(this.markerSymbol);}break;case _35.ARROW:pts=[[96,24],[72,52],[72,40],[0,40],[0,12],[72,12],[72,0],[96,24]];dx=_34.x-36;dy=_34.y-24;this._addShape(pts,dx,dy);break;case _35.LEFT_ARROW:pts=[[0,24],[24,52],[24,40],[96,40],[96,12],[24,12],[24,0],[0,24]];dx=_34.x-60;dy=_34.y-24;this._addShape(pts,dx,dy);break;case _35.RIGHT_ARROW:pts=[[96,24],[72,52],[72,40],[0,40],[0,12],[72,12],[72,0],[96,24]];dx=_34.x-36;dy=_34.y-24;this._addShape(pts,dx,dy);break;case _35.UP_ARROW:pts=[[24,0],[52,24],[40,24],[40,96],[12,96],[12,24],[0,24],[24,0]];dx=_34.x-24;dy=_34.y-60;this._addShape(pts,dx,dy);break;case _35.DOWN_ARROW:pts=[[24,96],[52,72],[40,72],[40,0],[12,0],[12,72],[0,72],[24,96]];dx=_34.x-24;dy=_34.y-36;this._addShape(pts,dx,dy);break;case _35.TRIANGLE:pts=[[0,96],[48,0],[96,96],[0,96]];dx=_34.x-48;dy=_34.y-48;this._addShape(pts,dx,dy);break;case _35.RECTANGLE:pts=[[0,-96],[96,-96],[96,0],[0,0],[0,-96]];dx=_34.x-48;dy=_34.y+48;this._addShape(pts,dx,dy);break;case _35.CIRCLE:_36=360;var _3c=(2*Math.PI)/_36;pts=[];for(i=0;i<_36;i++){pts.push([48*Math.cos(_3c*i),48*Math.sin(_3c*i)]);}pts.push(pts[0]);this._addShape(pts,_34.x,_34.y);break;case _35.ELLIPSE:var rad=Math.PI/180;var _3d=-rad;var _3e=Math.sin(_3d);var _3f=Math.cos(_3d);_36=360;pts=[];for(i=0;i<_36;i++){var _40=i*(rad);var _41=Math.sin(_40);var _42=Math.cos(_40);var x=(48*_42*_3f-24*_41*_3e);var y=(48*_42*_3e+24*_41*_3f);pts.push([x,y]);}pts.push(pts[0]);this._addShape(pts,_34.x,_34.y);break;}this._setTooltipMessage(this._points.length);},_addShape:function(_43,dx,dy){var _44=this.map.graphics.add(new esri.Graphic(this._toPolygon(_43,dx,dy),this.fillSymbol),true);this._setTooltipMessage(0);var _45;if(_44){_45=esri.geometry.fromJson(_44.geometry.toJson());this.map.graphics.remove(_44,true);}this.onDrawEnd(_45);_44=_45=null;},_toPolygon:function(_46,dx,dy){var map=this.map;var _47=new esri.geometry.Polygon(map.spatialReference);_47.addRing(_2.map(_46,function(pt){return map.toMap({x:pt[0]+dx,y:pt[1]+dy});}));return _47;},_onDblClickHandler:function(evt){var _48,_49=this._points,map=this.map,_4a=map.spatialReference,_4b=esri.toolbars.Draw;if(esri.isTouchEnabled){_49.push(evt.mapPoint);}_49=_49.slice(0,_49.length);switch(this._geometryType){case _4b.POLYLINE:if(!this._graphic||_49.length<2){_2.disconnect(this._onMouseMoveHandler_connect);this._clear();this._onClickHandler(evt);return;}_48=new esri.geometry.Polyline(_4a);_48.addPath([].concat(_49));break;case _4b.POLYGON:if(!this._graphic||_49.length<2){_2.disconnect(this._onMouseMoveHandler_connect);this._clear();this._onClickHandler(evt);return;}_48=new esri.geometry.Polygon(_4a);var _4c=[].concat(_49,[_49[0].offset(0,0)]);if(!esri.geometry.isClockwise(_4c)&&!this.respectDrawingVertexOrder){console.debug(this.declaredClass+" : "+esri.bundle.toolbars.draw.convertAntiClockwisePolygon);_4c.reverse();}_48.addRing(_4c);break;case _4b.MULTI_POINT:_48=new esri.geometry.Multipoint(_4a);_2.forEach(_49,function(pt){_48.addPoint(pt);});break;}_2.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);this.onDrawEnd(_48);},_onKeyDownHandler:function(evt){if(evt.keyCode===_2.keys.ESCAPE){_2.disconnect(this._onMouseMoveHandler_connect);this._clear();this._setTooltipMessage(0);}},_toggleTooltip:function(_4d){if(!this._options.showTooltips){return;}if(_4d){if(this._tooltip){return;}var _4e=this.map.container;this._tooltip=_2.create("div",{"class":"tooltip"},_4e);this._tooltip.style.display="none";this._tooltip.style.position="fixed";this._setTooltipMessage(0);this._onTooltipMouseEnterHandler_connect=_2.connect(this.map,"onMouseOver",this._updateTooltip);this._onTooltipMouseLeaveHandler_connect=_2.connect(this.map,"onMouseOut",this._hideTooltip);this._onTooltipMouseMoveHandler_connect=_2.connect(this.map,"onMouseMove",this._updateTooltip);}else{if(this._tooltip){_2.disconnect(this._onTooltipMouseEnterHandler_connect);_2.disconnect(this._onTooltipMouseLeaveHandler_connect);_2.disconnect(this._onTooltipMouseMoveHandler_connect);_2.destroy(this._tooltip);this._tooltip=null;}}},_hideTooltip:function(){var _4f=this._tooltip;if(!_4f){return;}_4f.style.display="none";},_setTooltipMessage:function(_50){var _51=this._tooltip;if(!_51){return;}var _52=_50;var _53="";switch(this._geometryType){case esri.toolbars.Draw.POINT:_53=esri.bundle.toolbars.draw.addPoint;break;case esri.toolbars.Draw.ARROW:case esri.toolbars.Draw.LEFT_ARROW:case esri.toolbars.Draw.RIGHT_ARROW:case esri.toolbars.Draw.UP_ARROW:case esri.toolbars.Draw.DOWN_ARROW:case esri.toolbars.Draw.TRIANGLE:case esri.toolbars.Draw.RECTANGLE:case esri.toolbars.Draw.CIRCLE:case esri.toolbars.Draw.ELLIPSE:_53=esri.bundle.toolbars.draw.addShape;break;case esri.toolbars.Draw.LINE:case esri.toolbars.Draw.EXTENT:case esri.toolbars.Draw.FREEHAND_POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYGON:_53=esri.bundle.toolbars.draw.freehand;break;case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.POLYGON:_53=esri.bundle.toolbars.draw.start;if(_52===1){_53=esri.bundle.toolbars.draw.resume;}else{if(_52>=2){_53=esri.bundle.toolbars.draw.complete;}}break;case esri.toolbars.Draw.MULTI_POINT:_53=esri.bundle.toolbars.draw.addMultipoint;if(_52>=1){_53=esri.bundle.toolbars.draw.finish;}break;}_51.innerHTML=_53;},_updateTooltip:function(evt){var _54=this._tooltip;if(!_54){return;}var px,py;if(evt.clientX||evt.pageY){px=evt.clientX;py=evt.clientY;}else{px=evt.clientX+_2.body().scrollLeft-_2.body().clientLeft;py=evt.clientY+_2.body().scrollTop-_2.body().clientTop;}_54.style.display="none";_2.style(_54,{left:(px+this._options.tooltipOffset)+"px",top:(py)+"px"});_54.style.display="";},_redrawGraphic:function(_55,_56,_57,lod){if(_57||this.map.wrapAround180){var g=this._graphic;if(g){g.setGeometry(g.geometry);}g=this._tGraphic;if(g){g.setGeometry(g.geometry);}}},onActivate:function(){},onDeactivate:function(){},onDrawEnd:function(){}});_2.mixin(esri.toolbars.Draw,{POINT:"point",MULTI_POINT:"multipoint",LINE:"line",EXTENT:"extent",POLYLINE:"polyline",POLYGON:"polygon",FREEHAND_POLYLINE:"freehandpolyline",FREEHAND_POLYGON:"freehandpolygon",ARROW:"arrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",TRIANGLE:"triangle",CIRCLE:"circle",ELLIPSE:"ellipse",RECTANGLE:"rectangle"});});