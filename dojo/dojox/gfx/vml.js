/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(g,_1,m){var _2=2*Math.PI,_3=Math.PI/4,_4=Math.PI/8,_5=_3+_4,_6=_7(_4);function _7(_8){var _9=Math.cos(_8),_a=Math.sin(_8),p2={x:_9+(4/3)*(1-_9),y:_a-(4/3)*_9*(1-_9)/_a};return {s:{x:_9,y:-_a},c1:{x:p2.x,y:-p2.y},c2:p2,e:{x:_9,y:_a}};};var _b=g.arc={unitArcAsBezier:_7,curvePI4:_6,arcAsBezier:function(_c,rx,ry,_d,_e,_f,x,y){_e=Boolean(_e);_f=Boolean(_f);var _10=m._degToRad(_d),rx2=rx*rx,ry2=ry*ry,pa=m.multiplyPoint(m.rotate(-_10),{x:(_c.x-x)/2,y:(_c.y-y)/2}),_11=pa.x*pa.x,_12=pa.y*pa.y,c1=Math.sqrt((rx2*ry2-rx2*_12-ry2*_11)/(rx2*_12+ry2*_11));if(isNaN(c1)){c1=0;}var ca={x:c1*rx*pa.y/ry,y:-c1*ry*pa.x/rx};if(_e==_f){ca={x:-ca.x,y:-ca.y};}var c=m.multiplyPoint([m.translate((_c.x+x)/2,(_c.y+y)/2),m.rotate(_10)],ca);var _13=m.normalize([m.translate(c.x,c.y),m.rotate(_10),m.scale(rx,ry)]);var _14=m.invert(_13),sp=m.multiplyPoint(_14,_c),ep=m.multiplyPoint(_14,x,y),_15=Math.atan2(sp.y,sp.x),_16=Math.atan2(ep.y,ep.x),_17=_15-_16;if(_f){_17=-_17;}if(_17<0){_17+=_2;}else{if(_17>_2){_17-=_2;}}var _18=_4,_19=_6,_1a=_f?_18:-_18,_1b=[];for(var _1c=_17;_1c>0;_1c-=_3){if(_1c<_5){_18=_1c/2;_19=_7(_18);_1a=_f?_18:-_18;_1c=0;}var c2,e,M=m.normalize([_13,m.rotate(_15+_1a)]);if(_f){c1=m.multiplyPoint(M,_19.c1);c2=m.multiplyPoint(M,_19.c2);e=m.multiplyPoint(M,_19.e);}else{c1=m.multiplyPoint(M,_19.c2);c2=m.multiplyPoint(M,_19.c1);e=m.multiplyPoint(M,_19.s);}_1b.push([c1.x,c1.y,c2.x,c2.y,e.x,e.y]);_15+=2*_1a;}return _1b;}};return _b;});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,_1d,_1e,win,has,_1f,arr,_20,_21,_22){var _23=g.shape={};var _24={};var _25={};_23.register=function(_26){var t=_26.declaredClass.split(".").pop();var i=t in _24?++_24[t]:((_24[t]=0));var uid=t+i;_25[uid]=_26;return uid;};_23.byId=function(id){return _25[id];};_23.dispose=function(_27){delete _25[_27.getUID()];};_1e("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;var uid=_23.register(this);this.getUID=function(){return uid;};},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_22;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setShape:function(_28){this.shape=g.makeParameters(this.shape,_28);this.bbox=null;return this;},setFill:function(_29){if(!_29){this.fillStyle=null;return this;}var f=null;if(typeof (_29)=="object"&&"type" in _29){switch(_29.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,_29);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_29);break;case "pattern":f=g.makeParameters(g.defaultPattern,_29);break;}}else{f=g.normalizeColor(_29);}this.fillStyle=f;return this;},setStroke:function(_2a){if(!_2a){this.strokeStyle=null;return this;}if(typeof _2a=="string"||_1d.isArray(_2a)||_2a instanceof _21){_2a={color:_2a};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_2a);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_2b){this.matrix=_22.clone(_2b?_22.normalize(_2b):_22.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_2c){return _2c?this.setTransform([this.matrix,_2c]):this;},applyLeftTransform:function(_2d){return _2d?this.setTransform([_2d,this.matrix]):this;},applyTransform:function(_2e){return _2e?this.setTransform([this.matrix,_2e]):this;},removeShape:function(_2f){if(this.parent){this.parent.remove(this,_2f);}return this;},_setParent:function(_30,_31){this.parent=_30;return this._updateParentMatrix(_31);},_updateParentMatrix:function(_32){this.parentMatrix=_32?_22.clone(_32):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_22.multiply(p.matrix,m);}p=p.parent;}return m;}});_23._eventsProcessing={connect:function(_33,_34,_35){return _1f.connect(this.getEventSource(),_33,_23.fixCallback(this,g.fixTarget,_34,_35));},disconnect:function(_36){_1f.disconnect(_36);}};_23.fixCallback=function(_37,_38,_39,_3a){if(!_3a){_3a=_39;_39=null;}if(_1d.isString(_3a)){_39=_39||win.global;if(!_39[_3a]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_3a,"\"] is null (scope=\"",_39,"\")"].join(""));}return function(e){return _38(e,_37)?_39[_3a].apply(_39,arguments||[]):undefined;};}return !_39?function(e){return _38(e,_37)?_3a.apply(_39,arguments):undefined;}:function(e){return _38(e,_37)?_3a.apply(_39,arguments||[]):undefined;};};_1d.extend(_23.Shape,_23._eventsProcessing);_23.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_3b){var _3c=_3b.getParent();if(_3c){_3c.remove(_3b,true);}this.children.push(_3b);return _3b._setParent(this,this._getRealMatrix());},remove:function(_3d,_3e){for(var i=0;i<this.children.length;++i){if(this.children[i]==_3d){if(_3e){}else{_3d.parent=null;_3d.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){var _3f;for(var i=0;i<this.children.length;++i){_3f=this.children[i];_3f.parent=null;_3f.parentMatrix=null;}this.children=[];return this;},_moveChildToFront:function(_40){for(var i=0;i<this.children.length;++i){if(this.children[i]==_40){this.children.splice(i,1);this.children.push(_40);break;}}return this;},_moveChildToBack:function(_41){for(var i=0;i<this.children.length;++i){if(this.children[i]==_41){this.children.splice(i,1);this.children.unshift(_41);break;}}return this;}};_1e("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_20.destroy);this._nodes=[];arr.forEach(this._events,_1f.disconnect);this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_20.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_42){},whenLoaded:function(_43,_44){var f=_1d.hitch(_43,_44);if(this.isLoaded){f(this);}else{var h=_1f.connect(this,"onLoad",function(_45){_1f.disconnect(h);f(_45);});}}});_1d.extend(_23.Surface,_23._eventsProcessing);_1e("dojox.gfx.Point",null,{});_1e("dojox.gfx.Rectangle",null,{});_1e("dojox.gfx.shape.Rect",_23.Shape,{constructor:function(_46){this.shape=g.getDefault("Rect");this.rawNode=_46;},getBoundingBox:function(){return this.shape;}});_1e("dojox.gfx.shape.Ellipse",_23.Shape,{constructor:function(_47){this.shape=g.getDefault("Ellipse");this.rawNode=_47;},getBoundingBox:function(){if(!this.bbox){var _48=this.shape;this.bbox={x:_48.cx-_48.rx,y:_48.cy-_48.ry,width:2*_48.rx,height:2*_48.ry};}return this.bbox;}});_1e("dojox.gfx.shape.Circle",_23.Shape,{constructor:function(_49){this.shape=g.getDefault("Circle");this.rawNode=_49;},getBoundingBox:function(){if(!this.bbox){var _4a=this.shape;this.bbox={x:_4a.cx-_4a.r,y:_4a.cy-_4a.r,width:2*_4a.r,height:2*_4a.r};}return this.bbox;}});_1e("dojox.gfx.shape.Line",_23.Shape,{constructor:function(_4b){this.shape=g.getDefault("Line");this.rawNode=_4b;},getBoundingBox:function(){if(!this.bbox){var _4c=this.shape;this.bbox={x:Math.min(_4c.x1,_4c.x2),y:Math.min(_4c.y1,_4c.y2),width:Math.abs(_4c.x2-_4c.x1),height:Math.abs(_4c.y2-_4c.y1)};}return this.bbox;}});_1e("dojox.gfx.shape.Polyline",_23.Shape,{constructor:function(_4d){this.shape=g.getDefault("Polyline");this.rawNode=_4d;},setShape:function(_4e,_4f){if(_4e&&_4e instanceof Array){this.inherited(arguments,[{points:_4e}]);if(_4f&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_4e]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _50=[];for(var i=0;i<l;i+=2){_50.push({x:p[i],y:p[i+1]});}this.shape.points=_50;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var _51={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(_51.l>t.x){_51.l=t.x;}if(_51.r<t.x){_51.r=t.x;}if(_51.t>t.y){_51.t=t.y;}if(_51.b<t.y){_51.b=t.y;}}this.bbox={x:_51.l,y:_51.t,width:_51.r-_51.l,height:_51.b-_51.t};}return this.bbox;}});_1e("dojox.gfx.shape.Image",_23.Shape,{constructor:function(_52){this.shape=g.getDefault("Image");this.rawNode=_52;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_1e("dojox.gfx.shape.Text",_23.Shape,{constructor:function(_53){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_53;},getFont:function(){return this.fontStyle;},setFont:function(_54){this.fontStyle=typeof _54=="string"?g.splitFontString(_54):g.makeParameters(g.defaultFont,_54);this._setFont();return this;}});_23.Creator={createShape:function(_55){switch(_55.type){case g.defaultPath.type:return this.createPath(_55);case g.defaultRect.type:return this.createRect(_55);case g.defaultCircle.type:return this.createCircle(_55);case g.defaultEllipse.type:return this.createEllipse(_55);case g.defaultLine.type:return this.createLine(_55);case g.defaultPolyline.type:return this.createPolyline(_55);case g.defaultImage.type:return this.createImage(_55);case g.defaultText.type:return this.createText(_55);case g.defaultTextPath.type:return this.createTextPath(_55);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(_56){return this.createObject(g.Rect,_56);},createEllipse:function(_57){return this.createObject(g.Ellipse,_57);},createCircle:function(_58){return this.createObject(g.Circle,_58);},createLine:function(_59){return this.createObject(g.Line,_59);},createPolyline:function(_5a){return this.createObject(g.Polyline,_5a);},createImage:function(_5b){return this.createObject(g.Image,_5b);},createText:function(_5c){return this.createObject(g.Text,_5c);},createPath:function(_5d){return this.createObject(g.Path,_5d);},createTextPath:function(_5e){return this.createObject(g.TextPath,{}).setText(_5e);},createObject:function(_5f,_60){return null;}};return _23;});},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(_61,m,_62){var _63=_61.getObject("dojox.gfx.gradient",true);var C=_62;_63.rescale=function(_64,_65,to){var len=_64.length,_66=(to<_65),_67;if(_66){var tmp=_65;_65=to;to=tmp;}if(!len){return [];}if(to<=_64[0].offset){_67=[{offset:0,color:_64[0].color},{offset:1,color:_64[0].color}];}else{if(_65>=_64[len-1].offset){_67=[{offset:0,color:_64[len-1].color},{offset:1,color:_64[len-1].color}];}else{var _68=to-_65,_69,_6a,i;_67=[];if(_65<0){_67.push({offset:0,color:new C(_64[0].color)});}for(i=0;i<len;++i){_69=_64[i];if(_69.offset>=_65){break;}}if(i){_6a=_64[i-1];_67.push({offset:0,color:_62.blendColors(new C(_6a.color),new C(_69.color),(_65-_6a.offset)/(_69.offset-_6a.offset))});}else{_67.push({offset:0,color:new C(_69.color)});}for(;i<len;++i){_69=_64[i];if(_69.offset>=to){break;}_67.push({offset:(_69.offset-_65)/_68,color:new C(_69.color)});}if(i<len){_6a=_64[i-1];_67.push({offset:1,color:_62.blendColors(new C(_6a.color),new C(_69.color),(to-_6a.offset)/(_69.offset-_6a.offset))});}else{_67.push({offset:1,color:new C(_64[len-1].color)});}}}if(_66){_67.reverse();for(i=0,len=_67.length;i<len;++i){_69=_67[i];_69.offset=1-_69.offset;}}return _67;};function _6b(x,y,_6c,_6d,_6e,_6f){var r=m.multiplyPoint(_6c,x,y),p=m.multiplyPoint(_6d,r);return {r:r,p:p,o:m.multiplyPoint(_6e,p).x/_6f};};function _70(a,b){return a.o-b.o;};_63.project=function(_71,_72,tl,rb,ttl,trb){_71=_71||m.identity;var f1=m.multiplyPoint(_71,_72.x1,_72.y1),f2=m.multiplyPoint(_71,_72.x2,_72.y2),_73=Math.atan2(f2.y-f1.y,f2.x-f1.x),_74=m.project(f2.x-f1.x,f2.y-f1.y),pf1=m.multiplyPoint(_74,f1),pf2=m.multiplyPoint(_74,f2),_75=new m.Matrix2D([m.rotate(-_73),{dx:-pf1.x,dy:-pf1.y}]),_76=m.multiplyPoint(_75,pf2).x,_77=[_6b(tl.x,tl.y,_71,_74,_75,_76),_6b(rb.x,rb.y,_71,_74,_75,_76),_6b(tl.x,rb.y,_71,_74,_75,_76),_6b(rb.x,tl.y,_71,_74,_75,_76)].sort(_70),_78=_77[0].o,to=_77[3].o,_79=_63.rescale(_72.colors,_78,to),_7a=Math.atan2(_77[3].r.y-_77[0].r.y,_77[3].r.x-_77[0].r.x);return {type:"linear",x1:_77[0].p.x,y1:_77[0].p.y,x2:_77[3].p.x,y2:_77[3].p.y,colors:_79,angle:_73};};return _63;});},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,_7b,_7c,_7d,_7e){var _7f=g.path={};var _80=_7c("dojox.gfx.path.Path",_7e.Shape,{constructor:function(_81){this.shape=_7b.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_81;this.segmented=false;},setAbsoluteMode:function(_82){this._confirmSegmented();this.absolute=typeof _82=="string"?(_82=="absolute"):_82;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var _83=this.bbox,_7d=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_7d);}var t=this.bbox;this.bbox=_83;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_7d.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_84,_85){var n=_84.args,l=n.length,i;switch(_84.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_85);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_85);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_85);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _86=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_85);_86=2;}for(i=_86;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_85);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_85);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_85);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_85);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_85);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_85);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_85);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_85);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_85);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_85);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_85);}this.absolute=false;break;}var _87=[_84.action];for(i=0;i<l;++i){_87.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=_87.join("");}else{Array.prototype.push.apply(this.shape.path,_87);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_88,_89){this.tbbox=null;var _8a=this._validSegments[_88.toLowerCase()],_8b;if(typeof _8a=="number"){if(_8a){if(_89.length>=_8a){_8b={action:_88,args:_89.slice(0,_89.length-_89.length%_8a)};this.segments.push(_8b);this._updateWithSegment(_8b);}}else{_8b={action:_88,args:[]};this.segments.push(_8b);this._updateWithSegment(_8b);}}},_collectArgs:function(_8c,_8d){for(var i=0;i<_8d.length;++i){var t=_8d[i];if(typeof t=="boolean"){_8c.push(t?1:0);}else{if(typeof t=="number"){_8c.push(t);}else{if(t instanceof Array){this._collectArgs(_8c,t);}else{if("x" in t&&"y" in t){_8c.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var _8e=[];this._collectArgs(_8e,arguments);this._pushSegment(this.absolute?"M":"m",_8e);return this;},lineTo:function(){this._confirmSegmented();var _8f=[];this._collectArgs(_8f,arguments);this._pushSegment(this.absolute?"L":"l",_8f);return this;},hLineTo:function(){this._confirmSegmented();var _90=[];this._collectArgs(_90,arguments);this._pushSegment(this.absolute?"H":"h",_90);return this;},vLineTo:function(){this._confirmSegmented();var _91=[];this._collectArgs(_91,arguments);this._pushSegment(this.absolute?"V":"v",_91);return this;},curveTo:function(){this._confirmSegmented();var _92=[];this._collectArgs(_92,arguments);this._pushSegment(this.absolute?"C":"c",_92);return this;},smoothCurveTo:function(){this._confirmSegmented();var _93=[];this._collectArgs(_93,arguments);this._pushSegment(this.absolute?"S":"s",_93);return this;},qCurveTo:function(){this._confirmSegmented();var _94=[];this._collectArgs(_94,arguments);this._pushSegment(this.absolute?"Q":"q",_94);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var _95=[];this._collectArgs(_95,arguments);this._pushSegment(this.absolute?"T":"t",_95);return this;},arcTo:function(){this._confirmSegmented();var _96=[];this._collectArgs(_96,arguments);this._pushSegment(this.absolute?"A":"a",_96);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var _97=this.shape.path;this.shape.path=[];this._setPath(_97);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(_98){var p=_7b.isArray(_98)?_98:_98.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _99="",_9a=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_99){this._pushSegment(_99,_9a);}_9a=[];_99=t;}else{_9a.push(x);}}this._pushSegment(_99,_9a);},setShape:function(_9b){this.inherited(arguments,[typeof _9b=="string"?{path:_9b}:_9b]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _9c=_7c("dojox.gfx.path.TextPath",_80,{constructor:function(_9d){if(!("text" in this)){this.text=_7b.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=_7b.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_9e){this.text=g.makeParameters(this.text,typeof _9e=="string"?{text:_9e}:_9e);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_9f){this.fontStyle=typeof _9f=="string"?g.splitFontString(_9f):g.makeParameters(g.defaultFont,_9f);this._setFont();return this;}});return {Path:_80,TextPath:_9c};});},"*noref":1}});require(["dojo/i18n"],function(_a0){_a0._preloadLocalizations("dojox/gfx/nls/vml",[]);});define("dojox/gfx/vml",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/window","./_base","./shape","./path","./arc","./gradient","./matrix"],function(_a1,_a2,arr,_a3,has,_a4,dom,_a5,win,g,gs,_a6,_a7,_a8,m){var vml=g.vml={};var _a9=function(){vml.xmlns="urn:schemas-microsoft-com:vml";try{document.namespaces.add("v",vml.xmlns);var _aa=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(has("ie")>=8){i=1;l=_aa.length;}for(;i<l;++i){s.addRule("v\\:"+_aa[i],"behavior:url(#default#VML); display:inline-block");}}catch(e){setTimeout(_a9,10);}};_a9();vml.text_alignment={start:"left",middle:"center",end:"right"};vml._parseFloat=function(str){return str.match(/^\d+f$/i)?parseInt(str)/65536:parseFloat(str);};vml._bool={"t":1,"true":1};_a2("dojox.gfx.vml.Shape",gs.Shape,{setFill:function(_ab){if(!_ab){this.fillStyle=null;this.rawNode.filled="f";return this;}var i,f,fo,a,s;if(typeof _ab=="object"&&"type" in _ab){switch(_ab.type){case "linear":var _ac=this._getRealMatrix(),_ad=this.getBoundingBox(),_ae=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();s=[];if(this.fillStyle!==_ab){this.fillStyle=g.makeParameters(g.defaultLinearGradient,_ab);}f=g.gradient.project(_ac,this.fillStyle,{x:_ad.x,y:_ad.y},{x:_ad.x+_ad.width,y:_ad.y+_ad.height},_ae[0],_ae[2]);a=f.colors;if(a[0].offset.toFixed(5)!="0.00000"){s.push("0 "+g.normalizeColor(a[0].color).toHex());}for(i=0;i<a.length;++i){s.push(a[i].offset.toFixed(5)+" "+g.normalizeColor(a[i].color).toHex());}i=a.length-1;if(a[i].offset.toFixed(5)!="1.00000"){s.push("1 "+g.normalizeColor(a[i].color).toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradient";fo.angle=(270-m._radToDeg(f.angle))%360;fo.on=true;break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_ab);this.fillStyle=f;var l=parseFloat(this.rawNode.style.left),t=parseFloat(this.rawNode.style.top),w=parseFloat(this.rawNode.style.width),h=parseFloat(this.rawNode.style.height),c=isNaN(w)?1:2*f.r/w;a=[];if(f.colors[0].offset>0){a.push({offset:1,color:g.normalizeColor(f.colors[0].color)});}arr.forEach(f.colors,function(v,i){a.push({offset:1-v.offset*c,color:g.normalizeColor(v.color)});});i=a.length-1;while(i>=0&&a[i].offset<0){--i;}if(i<a.length-1){var q=a[i],p=a[i+1];p.color=_a3.blendColors(q.color,p.color,q.offset/(q.offset-p.offset));p.offset=0;while(a.length-i>2){a.pop();}}i=a.length-1,s=[];if(a[i].offset>0){s.push("0 "+a[i].color.toHex());}for(;i>=0;--i){s.push(a[i].offset.toFixed(5)+" "+a[i].color.toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradientradial";if(isNaN(w)||isNaN(h)||isNaN(l)||isNaN(t)){fo.focusposition="0.5 0.5";}else{fo.focusposition=((f.cx-l)/w).toFixed(5)+" "+((f.cy-t)/h).toFixed(5);}fo.focussize="0 0";fo.on=true;break;case "pattern":f=g.makeParameters(g.defaultPattern,_ab);this.fillStyle=f;fo=this.rawNode.fill;fo.type="tile";fo.src=f.src;if(f.width&&f.height){fo.size.x=g.px2pt(f.width);fo.size.y=g.px2pt(f.height);}fo.alignShape="f";fo.position.x=0;fo.position.y=0;fo.origin.x=f.width?f.x/f.width:0;fo.origin.y=f.height?f.y/f.height:0;fo.on=true;break;}this.rawNode.fill.opacity=1;return this;}this.fillStyle=g.normalizeColor(_ab);fo=this.rawNode.fill;if(!fo){fo=this.rawNode.ownerDocument.createElement("v:fill");}fo.method="any";fo.type="solid";fo.opacity=this.fillStyle.a;var _af=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"];if(_af){_af.opacity=Math.round(this.fillStyle.a*100);}this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=true;return this;},setStroke:function(_b0){if(!_b0){this.strokeStyle=null;this.rawNode.stroked="f";return this;}if(typeof _b0=="string"||_a1.isArray(_b0)||_b0 instanceof _a3){_b0={color:_b0};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_b0);s.color=g.normalizeColor(s.color);var rn=this.rawNode;rn.stroked=true;rn.strokecolor=s.color.toCss();rn.strokeweight=s.width+"px";if(rn.stroke){rn.stroke.opacity=s.color.a;rn.stroke.endcap=this._translate(this._capMap,s.cap);if(typeof s.join=="number"){rn.stroke.joinstyle="miter";rn.stroke.miterlimit=s.join;}else{rn.stroke.joinstyle=s.join;}rn.stroke.dashstyle=s.style=="none"?"Solid":s.style;}return this;},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(_b1,_b2){return (_b2 in _b1)?_b1[_b2]:_b2;},_applyTransform:function(){var _b3=this._getRealMatrix();if(_b3){var _b4=this.rawNode.skew;if(typeof _b4=="undefined"){for(var i=0;i<this.rawNode.childNodes.length;++i){if(this.rawNode.childNodes[i].tagName=="skew"){_b4=this.rawNode.childNodes[i];break;}}}if(_b4){_b4.on="f";var mt=_b3.xx.toFixed(8)+" "+_b3.xy.toFixed(8)+" "+_b3.yx.toFixed(8)+" "+_b3.yy.toFixed(8)+" 0 0",_b5=Math.floor(_b3.dx).toFixed()+"px "+Math.floor(_b3.dy).toFixed()+"px",s=this.rawNode.style,l=parseFloat(s.left),t=parseFloat(s.top),w=parseFloat(s.width),h=parseFloat(s.height);if(isNaN(l)){l=0;}if(isNaN(t)){t=0;}if(isNaN(w)||!w){w=1;}if(isNaN(h)||!h){h=1;}var _b6=(-l/w-0.5).toFixed(8)+" "+(-t/h-0.5).toFixed(8);_b4.matrix=mt;_b4.origin=_b6;_b4.offset=_b5;_b4.on=true;}}if(this.fillStyle&&this.fillStyle.type=="linear"){this.setFill(this.fillStyle);}return this;},_setDimensions:function(_b7,_b8){return this;},setRawNode:function(_b9){_b9.stroked="f";_b9.filled="f";this.rawNode=_b9;this.rawNode.__gfxObject__=this.getUID();},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){var r=this.rawNode,p=r.parentNode,n=p.firstChild;p.insertBefore(r,n);if(n.tagName=="rect"){n.swapNode(r);}return this;},_getRealMatrix:function(){return this.parentMatrix?new m.Matrix2D([this.parentMatrix,this.matrix]):this.matrix;}});_a2("dojox.gfx.vml.Group",vml.Shape,{constructor:function(){gs.Container._init.call(this);},_applyTransform:function(){var _ba=this._getRealMatrix();for(var i=0;i<this.children.length;++i){this.children[i]._updateParentMatrix(_ba);}return this;},_setDimensions:function(_bb,_bc){var r=this.rawNode,rs=r.style,bs=this.bgNode.style;rs.width=_bb;rs.height=_bc;r.coordsize=_bb+" "+_bc;bs.width=_bb;bs.height=_bc;for(var i=0;i<this.children.length;++i){this.children[i]._setDimensions(_bb,_bc);}return this;}});vml.Group.nodeType="group";_a2("dojox.gfx.vml.Rect",[vml.Shape,gs.Rect],{setShape:function(_bd){var _be=this.shape=g.makeParameters(this.shape,_bd);this.bbox=null;var r=Math.min(1,(_be.r/Math.min(parseFloat(_be.width),parseFloat(_be.height)))).toFixed(8);var _bf=this.rawNode.parentNode,_c0=null;if(_bf){if(_bf.lastChild!==this.rawNode){for(var i=0;i<_bf.childNodes.length;++i){if(_bf.childNodes[i]===this.rawNode){_c0=_bf.childNodes[i+1];break;}}}_bf.removeChild(this.rawNode);}if(has("ie")>7){var _c1=this.rawNode.ownerDocument.createElement("v:roundrect");_c1.arcsize=r;_c1.style.display="inline-block";this.rawNode=_c1;this.rawNode.__gfxObject__=this.getUID();}else{this.rawNode.arcsize=r;}if(_bf){if(_c0){_bf.insertBefore(this.rawNode,_c0);}else{_bf.appendChild(this.rawNode);}}var _c2=this.rawNode.style;_c2.left=_be.x.toFixed();_c2.top=_be.y.toFixed();_c2.width=(typeof _be.width=="string"&&_be.width.indexOf("%")>=0)?_be.width:Math.max(_be.width.toFixed(),0);_c2.height=(typeof _be.height=="string"&&_be.height.indexOf("%")>=0)?_be.height:Math.max(_be.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle);}});vml.Rect.nodeType="roundrect";_a2("dojox.gfx.vml.Ellipse",[vml.Shape,gs.Ellipse],{setShape:function(_c3){var _c4=this.shape=g.makeParameters(this.shape,_c3);this.bbox=null;var _c5=this.rawNode.style;_c5.left=(_c4.cx-_c4.rx).toFixed();_c5.top=(_c4.cy-_c4.ry).toFixed();_c5.width=(_c4.rx*2).toFixed();_c5.height=(_c4.ry*2).toFixed();return this.setTransform(this.matrix);}});vml.Ellipse.nodeType="oval";_a2("dojox.gfx.vml.Circle",[vml.Shape,gs.Circle],{setShape:function(_c6){var _c7=this.shape=g.makeParameters(this.shape,_c6);this.bbox=null;var _c8=this.rawNode.style;_c8.left=(_c7.cx-_c7.r).toFixed();_c8.top=(_c7.cy-_c7.r).toFixed();_c8.width=(_c7.r*2).toFixed();_c8.height=(_c7.r*2).toFixed();return this;}});vml.Circle.nodeType="oval";_a2("dojox.gfx.vml.Line",[vml.Shape,gs.Line],{constructor:function(_c9){if(_c9){_c9.setAttribute("dojoGfxType","line");}},setShape:function(_ca){var _cb=this.shape=g.makeParameters(this.shape,_ca);this.bbox=null;this.rawNode.path.v="m"+_cb.x1.toFixed()+" "+_cb.y1.toFixed()+"l"+_cb.x2.toFixed()+" "+_cb.y2.toFixed()+"e";return this.setTransform(this.matrix);}});vml.Line.nodeType="shape";_a2("dojox.gfx.vml.Polyline",[vml.Shape,gs.Polyline],{constructor:function(_cc){if(_cc){_cc.setAttribute("dojoGfxType","polyline");}},setShape:function(_cd,_ce){if(_cd&&_cd instanceof Array){this.shape=g.makeParameters(this.shape,{points:_cd});if(_ce&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_cd);}this.bbox=null;this._normalizePoints();var _cf=[],p=this.shape.points;if(p.length>0){_cf.push("m");_cf.push(p[0].x.toFixed(),p[0].y.toFixed());if(p.length>1){_cf.push("l");for(var i=1;i<p.length;++i){_cf.push(p[i].x.toFixed(),p[i].y.toFixed());}}}_cf.push("e");this.rawNode.path.v=_cf.join(" ");return this.setTransform(this.matrix);}});vml.Polyline.nodeType="shape";_a2("dojox.gfx.vml.Image",[vml.Shape,gs.Image],{setShape:function(_d0){var _d1=this.shape=g.makeParameters(this.shape,_d0);this.bbox=null;this.rawNode.firstChild.src=_d1.src;return this.setTransform(this.matrix);},_applyTransform:function(){var _d2=this._getRealMatrix(),_d3=this.rawNode,s=_d3.style,_d4=this.shape;if(_d2){_d2=m.multiply(_d2,{dx:_d4.x,dy:_d4.y});}else{_d2=m.normalize({dx:_d4.x,dy:_d4.y});}if(_d2.xy==0&&_d2.yx==0&&_d2.xx>0&&_d2.yy>0){s.filter="";s.width=Math.floor(_d2.xx*_d4.width);s.height=Math.floor(_d2.yy*_d4.height);s.left=Math.floor(_d2.dx);s.top=Math.floor(_d2.dy);}else{var ps=_d3.parentNode.style;s.left="0px";s.top="0px";s.width=ps.width;s.height=ps.height;_d2=m.multiply(_d2,{xx:_d4.width/parseInt(s.width),yy:_d4.height/parseInt(s.height)});var f=_d3.filters["DXImageTransform.Microsoft.Matrix"];if(f){f.M11=_d2.xx;f.M12=_d2.xy;f.M21=_d2.yx;f.M22=_d2.yy;f.Dx=_d2.dx;f.Dy=_d2.dy;}else{s.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+_d2.xx+", M12="+_d2.xy+", M21="+_d2.yx+", M22="+_d2.yy+", Dx="+_d2.dx+", Dy="+_d2.dy+")";}}return this;},_setDimensions:function(_d5,_d6){var r=this.rawNode,f=r.filters["DXImageTransform.Microsoft.Matrix"];if(f){var s=r.style;s.width=_d5;s.height=_d6;return this._applyTransform();}return this;}});vml.Image.nodeType="rect";_a2("dojox.gfx.vml.Text",[vml.Shape,gs.Text],{constructor:function(_d7){if(_d7){_d7.setAttribute("dojoGfxType","text");}this.fontStyle=null;},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(_d8){this.shape=g.makeParameters(this.shape,_d8);this.bbox=null;var r=this.rawNode,s=this.shape,x=s.x,y=s.y.toFixed(),_d9;switch(s.align){case "middle":x-=5;break;case "end":x-=10;break;}_d9="m"+x.toFixed()+","+y+"l"+(x+10).toFixed()+","+y+"e";var p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=r.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=r.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.v=_d9;p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;return this.setTransform(this.matrix);},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}this.setTransform(this.matrix);},_getRealMatrix:function(){var _da=this.inherited(arguments);if(_da){_da=m.multiply(_da,{dy:-g.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")*0.35});}return _da;},getTextWidth:function(){var _db=this.rawNode,_dc=_db.style.display;_db.style.display="inline";var _dd=g.pt2px(parseFloat(_db.currentStyle.width));_db.style.display=_dc;return _dd;}});vml.Text.nodeType="shape";_a2("dojox.gfx.vml.Path",[vml.Shape,_a6.Path],{constructor:function(_de){if(_de&&!_de.getAttribute("dojoGfxType")){_de.setAttribute("dojoGfxType","path");}this.vmlPath="";this.lastControl={};},_updateWithSegment:function(_df){var _e0=_a1.clone(this.last);this.inherited(arguments);if(arguments.length>1){return;}var _e1=this[this.renderers[_df.action]](_df,_e0);if(typeof this.vmlPath=="string"){this.vmlPath+=_e1.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";}else{Array.prototype.push.apply(this.vmlPath,_e1);}},setShape:function(_e2){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this;},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(_e3,_e4,_e5,_e6){var n=_e4 instanceof Array?_e4:_e4.args;for(var i=_e5;i<_e6;++i){_e3.push(" ",n[i].toFixed());}},_adjustRelCrd:function(_e7,_e8,_e9){var n=_e8 instanceof Array?_e8:_e8.args,l=n.length,_ea=new Array(l),i=0,x=_e7.x,y=_e7.y;if(typeof x!="number"){_ea[0]=x=n[0];_ea[1]=y=n[1];i=2;}if(typeof _e9=="number"&&_e9!=2){var j=_e9;while(j<=l){for(;i<j;i+=2){_ea[i]=x+n[i];_ea[i+1]=y+n[i+1];}x=_ea[j-2];y=_ea[j-1];j+=_e9;}}else{for(;i<l;i+=2){_ea[i]=(x+=n[i]);_ea[i+1]=(y+=n[i+1]);}}return _ea;},_adjustRelPos:function(_eb,_ec){var n=_ec instanceof Array?_ec:_ec.args,l=n.length,_ed=new Array(l);for(var i=0;i<l;++i){_ed[i]=(_eb+=n[i]);}return _ed;},_moveToA:function(_ee){var p=[" m"],n=_ee instanceof Array?_ee:_ee.args,l=n.length;this._addArgs(p,n,0,2);if(l>2){p.push(" l");this._addArgs(p,n,2,l);}this.lastControl.type="";return p;},_moveToR:function(_ef,_f0){return this._moveToA(this._adjustRelCrd(_f0,_ef));},_lineToA:function(_f1){var p=[" l"],n=_f1 instanceof Array?_f1:_f1.args;this._addArgs(p,n,0,n.length);this.lastControl.type="";return p;},_lineToR:function(_f2,_f3){return this._lineToA(this._adjustRelCrd(_f3,_f2));},_hLineToA:function(_f4,_f5){var p=[" l"],y=" "+_f5.y.toFixed(),n=_f4 instanceof Array?_f4:_f4.args,l=n.length;for(var i=0;i<l;++i){p.push(" ",n[i].toFixed(),y);}this.lastControl.type="";return p;},_hLineToR:function(_f6,_f7){return this._hLineToA(this._adjustRelPos(_f7.x,_f6),_f7);},_vLineToA:function(_f8,_f9){var p=[" l"],x=" "+_f9.x.toFixed(),n=_f8 instanceof Array?_f8:_f8.args,l=n.length;for(var i=0;i<l;++i){p.push(x," ",n[i].toFixed());}this.lastControl.type="";return p;},_vLineToR:function(_fa,_fb){return this._vLineToA(this._adjustRelPos(_fb.y,_fa),_fb);},_curveToA:function(_fc){var p=[],n=_fc instanceof Array?_fc:_fc.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=6){p.push(" c");this._addArgs(p,n,i,i+6);}lc.x=n[l-4];lc.y=n[l-3];lc.type="C";return p;},_curveToR:function(_fd,_fe){return this._curveToA(this._adjustRelCrd(_fe,_fd,6));},_smoothCurveToA:function(_ff,last){var p=[],n=_ff instanceof Array?_ff:_ff.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="C"){p.push(" c");this._addArgs(p,[last.x,last.y],0,2);this._addArgs(p,n,0,4);lc.x=n[0];lc.y=n[1];lc.type="C";i=4;}for(;i<l;i+=4){p.push(" c");this._addArgs(p,[2*last.x-lc.x,2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+4);lc.x=n[i];lc.y=n[i+1];}return p;},_smoothCurveToR:function(_100,last){return this._smoothCurveToA(this._adjustRelCrd(last,_100,4),last);},_qCurveToA:function(_101){var p=[],n=_101 instanceof Array?_101:_101.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=4){p.push(" qb");this._addArgs(p,n,i,i+4);}lc.x=n[l-4];lc.y=n[l-3];lc.type="Q";return p;},_qCurveToR:function(_102,last){return this._qCurveToA(this._adjustRelCrd(last,_102,4));},_qSmoothCurveToA:function(_103,last){var p=[],n=_103 instanceof Array?_103:_103.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="Q"){p.push(" qb");this._addArgs(p,[lc.x=last.x,lc.y=last.y],0,2);lc.type="Q";this._addArgs(p,n,0,2);i=2;}for(;i<l;i+=2){p.push(" qb");this._addArgs(p,[lc.x=2*last.x-lc.x,lc.y=2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+2);}return p;},_qSmoothCurveToR:function(_104,last){return this._qSmoothCurveToA(this._adjustRelCrd(last,_104,2),last);},_arcTo:function(_105,last){var p=[],n=_105.args,l=n.length,_106=_105.action=="a";for(var i=0;i<l;i+=7){var x1=n[i+5],y1=n[i+6];if(_106){x1+=last.x;y1+=last.y;}var _107=_a7.arcAsBezier(last,n[i],n[i+1],n[i+2],n[i+3]?1:0,n[i+4]?1:0,x1,y1);for(var j=0;j<_107.length;++j){p.push(" c");var t=_107[j];this._addArgs(p,t,0,t.length);this._updateBBox(t[0],t[1]);this._updateBBox(t[2],t[3]);this._updateBBox(t[4],t[5]);}last.x=x1;last.y=y1;}this.lastControl.type="";return p;},_closePath:function(){this.lastControl.type="";return ["x"];}});vml.Path.nodeType="shape";_a2("dojox.gfx.vml.TextPath",[vml.Path,_a6.TextPath],{constructor:function(_108){if(_108){_108.setAttribute("dojoGfxType","textpath");}this.fontStyle=null;if(!("text" in this)){this.text=_a1.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=_a1.clone(g.defaultFont);}},setText:function(_109){this.text=g.makeParameters(this.text,typeof _109=="string"?{text:_109}:_109);this._setText();return this;},setFont:function(_10a){this.fontStyle=typeof _10a=="string"?g.splitFontString(_10a):g.makeParameters(g.defaultFont,_10a);this._setFont();return this;},_setText:function(){this.bbox=null;var r=this.rawNode,s=this.text,p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=this.rawNode.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=this.rawNode.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}}});vml.TextPath.nodeType="shape";_a2("dojox.gfx.vml.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},setDimensions:function(_10b,_10c){this.width=g.normalizedLength(_10b);this.height=g.normalizedLength(_10c);if(!this.rawNode){return this;}var cs=this.clipNode.style,r=this.rawNode,rs=r.style,bs=this.bgNode.style,ps=this._parent.style,i;ps.width=_10b;ps.height=_10c;cs.width=_10b;cs.height=_10c;cs.clip="rect(0px "+_10b+"px "+_10c+"px 0px)";rs.width=_10b;rs.height=_10c;r.coordsize=_10b+" "+_10c;bs.width=_10b;bs.height=_10c;for(i=0;i<this.children.length;++i){this.children[i]._setDimensions(_10b,_10c);}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.style.width),height:g.normalizedLength(this.rawNode.style.height)}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});vml.createSurface=function(_10d,_10e,_10f){if(!_10e&&!_10f){var pos=_a5.position(_10d);_10e=_10e||pos.w;_10f=_10f||pos.h;}if(typeof _10e=="number"){_10e=_10e+"px";}if(typeof _10f=="number"){_10f=_10f+"px";}var s=new vml.Surface(),p=dom.byId(_10d),c=s.clipNode=p.ownerDocument.createElement("div"),r=s.rawNode=p.ownerDocument.createElement("v:group"),cs=c.style,rs=r.style;if(has("ie")>7){rs.display="inline-block";}s._parent=p;s._nodes.push(c);p.style.width=_10e;p.style.height=_10f;cs.position="absolute";cs.width=_10e;cs.height=_10f;cs.clip="rect(0px "+_10e+" "+_10f+" 0px)";rs.position="absolute";rs.width=_10e;rs.height=_10f;r.coordsize=(_10e==="100%"?_10e:parseFloat(_10e))+" "+(_10f==="100%"?_10f:parseFloat(_10f));r.coordorigin="0 0";var b=s.bgNode=r.ownerDocument.createElement("v:rect"),bs=b.style;bs.left=bs.top=0;bs.width=rs.width;bs.height=rs.height;b.filled=b.stroked="f";r.appendChild(b);c.appendChild(r);p.appendChild(c);s.width=g.normalizedLength(_10e);s.height=g.normalizedLength(_10f);return s;};function _110(_111,f,o){o=o||win.global;f.call(o,_111);if(_111 instanceof g.Surface||_111 instanceof g.Group){arr.forEach(_111.children,function(_112){_110(_112,f,o);});}};var _113=function(_114){if(this!=_114.getParent()){var _115=_114.getParent();if(_115){_115.remove(_114);}this.rawNode.appendChild(_114.rawNode);C.add.apply(this,arguments);_110(this,function(s){if(typeof (s.getFont)=="function"){s.setShape(s.getShape());s.setFont(s.getFont());}if(typeof (s.setFill)=="function"){s.setFill(s.getFill());s.setStroke(s.getStroke());}});}return this;};var _116=function(_117){if(this!=_117.getParent()){this.rawNode.appendChild(_117.rawNode);if(!_117.getParent()){_117.setFill(_117.getFill());_117.setStroke(_117.getStroke());}C.add.apply(this,arguments);}return this;};var C=gs.Container,_118={add:_a4.fixVmlAdd===true?_113:_116,remove:function(_119,_11a){if(this==_119.getParent()){if(this.rawNode==_119.rawNode.parentNode){this.rawNode.removeChild(_119.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.firstChild!=r.lastChild){if(r.firstChild!=this.bgNode){r.removeChild(r.firstChild);}if(r.lastChild!=this.bgNode){r.removeChild(r.lastChild);}}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _11b={createGroup:function(){var node=this.createObject(vml.Group,null);var r=node.rawNode.ownerDocument.createElement("v:rect");r.style.left=r.style.top=0;r.style.width=node.rawNode.style.width;r.style.height=node.rawNode.style.height;r.filled=r.stroked="f";node.rawNode.appendChild(r);node.bgNode=r;return node;},createImage:function(_11c){if(!this.rawNode){return null;}var _11d=new vml.Image(),doc=this.rawNode.ownerDocument,node=doc.createElement("v:rect");node.stroked="f";node.style.width=this.rawNode.style.width;node.style.height=this.rawNode.style.height;var img=doc.createElement("v:imagedata");node.appendChild(img);_11d.setRawNode(node);this.rawNode.appendChild(node);_11d.setShape(_11c);this.add(_11d);return _11d;},createRect:function(rect){if(!this.rawNode){return null;}var _11e=new vml.Rect,node=this.rawNode.ownerDocument.createElement("v:roundrect");if(has("ie")>7){node.style.display="inline-block";}_11e.setRawNode(node);this.rawNode.appendChild(node);_11e.setShape(rect);this.add(_11e);return _11e;},createObject:function(_11f,_120){if(!this.rawNode){return null;}var _121=new _11f(),node=this.rawNode.ownerDocument.createElement("v:"+_11f.nodeType);_121.setRawNode(node);this.rawNode.appendChild(node);switch(_11f){case vml.Group:case vml.Line:case vml.Polyline:case vml.Image:case vml.Text:case vml.Path:case vml.TextPath:this._overrideSize(node);}_121.setShape(_120);this.add(_121);return _121;},_overrideSize:function(node){var s=this.rawNode.style,w=s.width,h=s.height;node.style.width=w;node.style.height=h;node.coordsize=parseInt(w)+" "+parseInt(h);}};_a1.extend(vml.Group,_118);_a1.extend(vml.Group,gs.Creator);_a1.extend(vml.Group,_11b);_a1.extend(vml.Surface,_118);_a1.extend(vml.Surface,gs.Creator);_a1.extend(vml.Surface,_11b);vml.fixTarget=function(_122,_123){if(!_122.gfxTarget){_122.gfxTarget=gs.byId(_122.target.__gfxObject__);}return true;};return vml;});